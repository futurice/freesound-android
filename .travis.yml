language: android

jdk:
 - oraclejdk8

android:
  components:
    - platform-tools
    - tools
    - android-23
    - build-tools-23.0.3
    - extra-google-m2repository
    - extra-android-m2repository
    - sys-img-armeabi-v7a-android-23

before_script:
  - echo no | android create avd --force -n test -t android-23 --abi armeabi-v7a
  - emulator -avd test -no-audio -no-window &
  - android-wait-for-emulator
  - adb shell settings put global window_animation_scale 0 &
  - adb shell settings put global transition_animation_scale 0 &
  - adb shell settings put global animator_duration_scale 0 &
  - adb shell input keyevent 82 &

script:
  - ./gradlew check

env:
  global:
  - ADB_INSTALL_TIMEOUT=8
  matrix:
    secure: c/TblLuIlD9D1rrGra0tnSqpV0EAU6SGo/h+PzF+hhScVGxPJPKv9hICn695Y1BVOGlcLkzCXrmKatOChKVmXKN0U7CBh9gzvc43cvCoQnXW3o6aNRrK0p+V0Xzjz95A0ObmMnHDpqZRn8Gj1RPC8GcsUApcSvSEBbWHYxT4+5vQM0ZYiMexutBpXIXZhOlM+qWLJmAcNX2NKhQHsLrB4r1QnXaG91b5auM7hphzMTxxVC4QQ3XcH5ZFJHH/or7AlvkSJh4F2agkcez/dx8Ud7LrvPOLKjFtdabo8jKIFsvmMPohWPA5HAM1Py1tO0kxcXImiMCqeZMDNz+K4LLqKUTUhmko7MA+QbMECOpad5h+CX16eEyAtDskjJOoKZpjVht7qaIuhibiU5WdHjAvKRTb7n+YtOhPJ0SDKCcgXyrE30GFv9UejbOpaXyVJ/BvacxU+ggCC5ac5h/S0lcVz1pWYBFi7Q9erv0N4IfX1TqkTDE27oti6ddjUMsmx5k+Odkz3xOAhsNuOsw3PGjU1Z4ngNzRrg78N9G77i1jWGFTQCmAq9HJ6m+I32FQgvSd64hCqpuxPQvnDEYEx2YI0YB35SQcxV4vzc5QYPKvJYIbwTxEpyWk7kkH/d7+vYP6ZCm6v/sSbdw/V4ZO31OLTP69sBTTcyMtNtGsOoIdv+I=
notifications:
  email: false
sudo: false
